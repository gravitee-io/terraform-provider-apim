overlay: 1.0.0
x-speakeasy-jsonpath: rfc9535
info:
  title: Common schema Terraform overlay
  version: 0.0.1
actions:

  ## Nothing is computed (except for defaulted attributes)
  - target: $.components.schemas.*.properties.*
    description: Prevent unknown values if unconfigured
    update:
      x-speakeasy-param-computed: false
  - target: $.components.schemas.MetadataFormat
    description: Used as ref so need to apply it explicitly
    update:
      x-speakeasy-param-computed: false
  - target: $.components.schemas.StepV4.allOf[?@.properties.messageCondition].properties.messageCondition
    description: Used in a allOf so need to apply it explicitly
    update:
      x-speakeasy-param-computed: false

  # Terraform ignored
  - target: $.components.schemas.Errors
    description: Intentionally ignored for Terraform state
    update:
      x-speakeasy-terraform-ignore: true

  # Configuration as free-form object
  - target: $.components.schemas.BaseStep.properties.configuration
    description: Configuration is a mapping, not an empty object. Easiest to define as JSON for now.
    update:
      x-speakeasy-type-override: any


  - target: $.components.schemas.Metadata.properties.key
    update:
      x-speakeasy-param-computed: true
      x-speakeasy-param-suppress-computed-diff: true
