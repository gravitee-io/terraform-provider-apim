---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "apim_apiv4 Resource - terraform-provider-apim"
subcategory: ""
description: |-
  Apiv4 Resource
---

# apim_apiv4 (Resource)

Apiv4 Resource

## Example Usage

```terraform
resource "apim_apiv4" "quick-start-api" {
  # should match the resource name
  hrid            = "quick-start-api"
  name            = "[Terraform] Quick Start PROXY API"
  description     = "A simple API that routes traffic to gravitee echo API"
  version         = "1.0"
  type            = "PROXY"
  state           = "STARTED"   # API will be deployed
  lifecycle_state = "PUBLISHED" # Will be published in Portal
  visibility      = "PUBLIC"    # Will be public in the Portal
  listeners = [
    {
      http = {
        type = "HTTP"
        entrypoints = [
          {
            type = "http-proxy"
          }
        ]
        paths = [
          {
            path = "/quick-start-api/"
          }
        ]
      }
    }
  ]
  endpoint_groups = [
    {
      name = "Default HTTP proxy group"
      type = "http-proxy"
      load_balancer = {
        type = "ROUND_ROBIN"
      }
      endpoints = [
        {
          name                  = "Default HTTP proxy"
          type                  = "http-proxy"
          weight                = 1
          inherit_configuration = false
          # Configuration is JSON as endpoint can be custom plugins
          configuration = jsonencode({
            target = "https://api.gravitee.io/echo"
          })
        }
      ]
    }
  ]
  flow_execution = {
    mode           = "DEFAULT"
    match_required = false
  }
  flows = []
  analytics = {
    enabled = false
  }
  # known limitation: will be fixed in future releases
  definition_context = {}
  plans = {
    # known limitation, key should equal name for clean terraform plans
    # will be fixed in future release
    KeyLess = {
      name        = "KeyLess"
      type        = "API"
      mode        = "STANDARD"
      validation  = "AUTO"
      status      = "PUBLISHED"
      description = "This plan does not require any authentication"
      security = {
        type = "KEY_LESS"
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `endpoint_groups` (Attributes List) (see [below for nested schema](#nestedatt--endpoint_groups))
- `hrid` (String) A unique human readable id identifying this resource. Requires replacement if changed.
- `lifecycle_state` (String) The status of the API regarding the console. must be one of ["ARCHIVED", "CREATED", "DEPRECATED", "PUBLISHED", "UNPUBLISHED"]
- `listeners` (Attributes List) The list of listeners associated with this API. (see [below for nested schema](#nestedatt--listeners))
- `name` (String) API's name. Duplicate names can exists.
- `type` (String) API's type. must be one of ["MESSAGE", "PROXY", "NATIVE"]
- `version` (String) API's version. It's a simple string only used in the portal.

### Optional

- `analytics` (Attributes) API analytics (see [below for nested schema](#nestedatt--analytics))
- `categories` (List of String) The list of category keys associated with this API.
- `description` (String) API's description. A short description of your API.
- `environment_id` (String) environment ID. Default: "DEFAULT"
- `failover` (Attributes) API Failover (see [below for nested schema](#nestedatt--failover))
- `flow_execution` (Attributes) Flow execution (see [below for nested schema](#nestedatt--flow_execution))
- `flows` (Attributes List) List of flows for the API (see [below for nested schema](#nestedatt--flows))
- `groups` (List of String) List of groups associated with the API.
This groups are id or name references to existing groups in APIM.
- `labels` (List of String) List of labels of the API
- `members` (Attributes List) Set of members associated with the plan (see [below for nested schema](#nestedatt--members))
- `metadata` (Attributes List) The list of API's metadata. (see [below for nested schema](#nestedatt--metadata))
- `notify_members` (Boolean) If true, new members added to the API spec will
be notified when the API is synced with APIM.
Default: true
- `organization_id` (String) organization ID. Default: "DEFAULT"
- `pages` (Attributes List) List of Pages for the API (see [below for nested schema](#nestedatt--pages))
- `plans` (Attributes List) List of Plans for the API (see [below for nested schema](#nestedatt--plans))
- `primary_owner` (Attributes) Primary owner, the creator of the application. Can perform all possible API actions. (see [below for nested schema](#nestedatt--primary_owner))
- `properties` (Attributes List) (see [below for nested schema](#nestedatt--properties))
- `resources` (Attributes List) (see [below for nested schema](#nestedatt--resources))
- `response_templates` (Map of Map of Object) A list of Response Templates for the API (Not applicable for Native API)
- `services` (Attributes) Api services (see [below for nested schema](#nestedatt--services))
- `state` (String) The state of the API regarding the gateway(s). must be one of ["CLOSED", "INITIALIZED", "STARTED", "STOPPED", "STOPPING"]
- `tags` (List of String) The list of sharding tags associated with this API.
- `visibility` (String) The visibility of the resource regarding the portal. Default: "PUBLIC"; must be one of ["PUBLIC", "PRIVATE"]

### Read-Only

- `cross_id` (String) When promoting an API from one environment to the other, this ID identifies the API across those different environments.
- `id` (String) API's uuid.

<a id="nestedatt--endpoint_groups"></a>
### Nested Schema for `endpoint_groups`

Optional:

- `endpoints` (Attributes List) (see [below for nested schema](#nestedatt--endpoint_groups--endpoints))
- `load_balancer` (Attributes) Load Balancer (see [below for nested schema](#nestedatt--endpoint_groups--load_balancer))
- `name` (String) The name of the endpoint group
- `services` (Attributes) API Endpoint Group Services (see [below for nested schema](#nestedatt--endpoint_groups--services))
- `shared_configuration` (String) Parsed as JSON.
- `type` (String) The type of the endpoint group. Not Null

<a id="nestedatt--endpoint_groups--endpoints"></a>
### Nested Schema for `endpoint_groups.endpoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `inherit_configuration` (Boolean) Is the configuration of the endpoint inherited from the endpoint group it belongs to. Default: false
- `name` (String) The name of the endpoint
- `secondary` (Boolean) Is the endpoint a secondary endpoint. Default: false
- `services` (Attributes) API Endpoint Services (see [below for nested schema](#nestedatt--endpoint_groups--endpoints--services))
- `shared_configuration_override` (String) Parsed as JSON.
- `tenants` (List of String) The list of tenants associated to the endpoint.
- `type` (String) The type of the endpoint. Not Null
- `weight` (Number) The weight of the endpoint. Default: 1

<a id="nestedatt--endpoint_groups--endpoints--services"></a>
### Nested Schema for `endpoint_groups.endpoints.services`

Optional:

- `health_check` (Attributes) Service (see [below for nested schema](#nestedatt--endpoint_groups--endpoints--services--health_check))

<a id="nestedatt--endpoint_groups--endpoints--services--health_check"></a>
### Nested Schema for `endpoint_groups.endpoints.services.health_check`

Optional:

- `configuration` (String) The configuration of the service. Parsed as JSON.
- `enabled` (Boolean) Is the service enabled or not. Default: true
- `override_configuration` (Boolean) Override the configuration of the service. Default: false
- `type` (String)




<a id="nestedatt--endpoint_groups--load_balancer"></a>
### Nested Schema for `endpoint_groups.load_balancer`

Optional:

- `type` (String) Load balancer type. Default: "ROUND_ROBIN"; must be one of ["RANDOM", "ROUND_ROBIN", "WEIGHTED_RANDOM", "WEIGHTED_ROUND_ROBIN"]


<a id="nestedatt--endpoint_groups--services"></a>
### Nested Schema for `endpoint_groups.services`

Optional:

- `discovery` (Attributes) Service (see [below for nested schema](#nestedatt--endpoint_groups--services--discovery))
- `health_check` (Attributes) Service (see [below for nested schema](#nestedatt--endpoint_groups--services--health_check))

<a id="nestedatt--endpoint_groups--services--discovery"></a>
### Nested Schema for `endpoint_groups.services.discovery`

Optional:

- `configuration` (String) The configuration of the service. Parsed as JSON.
- `enabled` (Boolean) Is the service enabled or not. Default: true
- `override_configuration` (Boolean) Override the configuration of the service. Default: false
- `type` (String)


<a id="nestedatt--endpoint_groups--services--health_check"></a>
### Nested Schema for `endpoint_groups.services.health_check`

Optional:

- `configuration` (String) The configuration of the service. Parsed as JSON.
- `enabled` (Boolean) Is the service enabled or not. Default: true
- `override_configuration` (Boolean) Override the configuration of the service. Default: false
- `type` (String)




<a id="nestedatt--listeners"></a>
### Nested Schema for `listeners`

Optional:

- `http` (Attributes) HTTP Listener (see [below for nested schema](#nestedatt--listeners--http))
- `kafka` (Attributes) Kafka listener (see [below for nested schema](#nestedatt--listeners--kafka))
- `subscription` (Attributes) Subscription listener (see [below for nested schema](#nestedatt--listeners--subscription))
- `tcp` (Attributes) TCP listener (see [below for nested schema](#nestedatt--listeners--tcp))

<a id="nestedatt--listeners--http"></a>
### Nested Schema for `listeners.http`

Optional:

- `cors` (Attributes) Http listener Cross-Origin Resource Sharing (see [below for nested schema](#nestedatt--listeners--http--cors))
- `entrypoints` (Attributes List) (see [below for nested schema](#nestedatt--listeners--http--entrypoints))
- `path_mappings` (List of String)
- `paths` (Attributes List) (see [below for nested schema](#nestedatt--listeners--http--paths))
- `servers` (List of String)
- `type` (String) Listener type. Not Null; must be one of ["HTTP", "SUBSCRIPTION", "TCP", "KAFKA"]

<a id="nestedatt--listeners--http--cors"></a>
### Nested Schema for `listeners.http.cors`

Optional:

- `allow_credentials` (Boolean)
- `allow_headers` (List of String)
- `allow_methods` (List of String)
- `allow_origin` (List of String)
- `enabled` (Boolean)
- `expose_headers` (List of String)
- `max_age` (Number) Default: -1
- `run_policies` (Boolean)


<a id="nestedatt--listeners--http--entrypoints"></a>
### Nested Schema for `listeners.http.entrypoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `dlq` (Attributes) DLQ (see [below for nested schema](#nestedatt--listeners--http--entrypoints--dlq))
- `qos` (String) Type of the quality of service. Default: "AUTO"; must be one of ["NONE", "AUTO", "AT_MOST_ONCE", "AT_LEAST_ONCE"]
- `type` (String) The type of the entrypoint. Not Null

<a id="nestedatt--listeners--http--entrypoints--dlq"></a>
### Nested Schema for `listeners.http.entrypoints.dlq`

Optional:

- `endpoint` (String) The endpoint of the DLQ.



<a id="nestedatt--listeners--http--paths"></a>
### Nested Schema for `listeners.http.paths`

Optional:

- `host` (String)
- `override_access` (Boolean) Default: false
- `path` (String) Default: "/"



<a id="nestedatt--listeners--kafka"></a>
### Nested Schema for `listeners.kafka`

Optional:

- `entrypoints` (Attributes List) (see [below for nested schema](#nestedatt--listeners--kafka--entrypoints))
- `host` (String) A hostname for which the API will match against SNI. Not Null
- `port` (Number) The port of the listener
- `servers` (List of String)
- `type` (String) Listener type. Not Null; must be one of ["HTTP", "SUBSCRIPTION", "TCP", "KAFKA"]

<a id="nestedatt--listeners--kafka--entrypoints"></a>
### Nested Schema for `listeners.kafka.entrypoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `dlq` (Attributes) DLQ (see [below for nested schema](#nestedatt--listeners--kafka--entrypoints--dlq))
- `qos` (String) Type of the quality of service. Default: "AUTO"; must be one of ["NONE", "AUTO", "AT_MOST_ONCE", "AT_LEAST_ONCE"]
- `type` (String) The type of the entrypoint. Not Null

<a id="nestedatt--listeners--kafka--entrypoints--dlq"></a>
### Nested Schema for `listeners.kafka.entrypoints.dlq`

Optional:

- `endpoint` (String) The endpoint of the DLQ.




<a id="nestedatt--listeners--subscription"></a>
### Nested Schema for `listeners.subscription`

Optional:

- `entrypoints` (Attributes List) (see [below for nested schema](#nestedatt--listeners--subscription--entrypoints))
- `servers` (List of String)
- `type` (String) Listener type. Not Null; must be one of ["HTTP", "SUBSCRIPTION", "TCP", "KAFKA"]

<a id="nestedatt--listeners--subscription--entrypoints"></a>
### Nested Schema for `listeners.subscription.entrypoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `dlq` (Attributes) DLQ (see [below for nested schema](#nestedatt--listeners--subscription--entrypoints--dlq))
- `qos` (String) Type of the quality of service. Default: "AUTO"; must be one of ["NONE", "AUTO", "AT_MOST_ONCE", "AT_LEAST_ONCE"]
- `type` (String) The type of the entrypoint. Not Null

<a id="nestedatt--listeners--subscription--entrypoints--dlq"></a>
### Nested Schema for `listeners.subscription.entrypoints.dlq`

Optional:

- `endpoint` (String) The endpoint of the DLQ.




<a id="nestedatt--listeners--tcp"></a>
### Nested Schema for `listeners.tcp`

Optional:

- `entrypoints` (Attributes List) (see [below for nested schema](#nestedatt--listeners--tcp--entrypoints))
- `hosts` (List of String) A list of hostnames for which the API will match against SNI.  This must be unique for all TCP listener for a given server id. See 'servers' attribute. Not Null
- `servers` (List of String)
- `type` (String) Listener type. Not Null; must be one of ["HTTP", "SUBSCRIPTION", "TCP", "KAFKA"]

<a id="nestedatt--listeners--tcp--entrypoints"></a>
### Nested Schema for `listeners.tcp.entrypoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `dlq` (Attributes) DLQ (see [below for nested schema](#nestedatt--listeners--tcp--entrypoints--dlq))
- `qos` (String) Type of the quality of service. Default: "AUTO"; must be one of ["NONE", "AUTO", "AT_MOST_ONCE", "AT_LEAST_ONCE"]
- `type` (String) The type of the entrypoint. Not Null

<a id="nestedatt--listeners--tcp--entrypoints--dlq"></a>
### Nested Schema for `listeners.tcp.entrypoints.dlq`

Optional:

- `endpoint` (String) The endpoint of the DLQ.





<a id="nestedatt--analytics"></a>
### Nested Schema for `analytics`

Optional:

- `enabled` (Boolean) Whether or not analytics is enabled. Default: true
- `logging` (Attributes) API logging configuration (see [below for nested schema](#nestedatt--analytics--logging))
- `sampling` (Attributes) API analytics sampling (see [below for nested schema](#nestedatt--analytics--sampling))
- `tracing` (Attributes) API analytic tracing (see [below for nested schema](#nestedatt--analytics--tracing))

<a id="nestedatt--analytics--logging"></a>
### Nested Schema for `analytics.logging`

Optional:

- `condition` (String)
- `content` (Attributes) API logging content (see [below for nested schema](#nestedatt--analytics--logging--content))
- `message_condition` (String)
- `mode` (Attributes) API logging mode (see [below for nested schema](#nestedatt--analytics--logging--mode))
- `phase` (Attributes) Logging phase (see [below for nested schema](#nestedatt--analytics--logging--phase))

<a id="nestedatt--analytics--logging--content"></a>
### Nested Schema for `analytics.logging.content`

Optional:

- `headers` (Boolean)
- `message_headers` (Boolean)
- `message_metadata` (Boolean)
- `message_payload` (Boolean)
- `payload` (Boolean)


<a id="nestedatt--analytics--logging--mode"></a>
### Nested Schema for `analytics.logging.mode`

Optional:

- `endpoint` (Boolean)
- `entrypoint` (Boolean)


<a id="nestedatt--analytics--logging--phase"></a>
### Nested Schema for `analytics.logging.phase`

Optional:

- `request` (Boolean)
- `response` (Boolean)



<a id="nestedatt--analytics--sampling"></a>
### Nested Schema for `analytics.sampling`

Optional:

- `type` (String) The type of the sampling. Not Null; must be one of ["PROBABILITY", "TEMPORAL", "COUNT"]
- `value` (String) The value of the sampling


<a id="nestedatt--analytics--tracing"></a>
### Nested Schema for `analytics.tracing`

Optional:

- `enabled` (Boolean) Enable OpenTelemetry tracing
- `verbose` (Boolean) Enable technical tracing to get more details on request execution. Be careful this settings would generate more noise and would impact performance.



<a id="nestedatt--failover"></a>
### Nested Schema for `failover`

Optional:

- `enabled` (Boolean) Is the failover enabled. Default: false
- `max_failures` (Number) The maximum number of failures allowed before the circuit breaker can calculate the error rate. Default: 5
- `max_retries` (Number) The maximum number of retries. Default: 2
- `open_state_duration` (Number) The duration in milliseconds to indicate how long the circuit breaker should stay open, before it switches to half open. Default: 10000
- `per_subscription` (Boolean) If true, a circuit breaker breaker will be dedicated for each subscriber, else, one and only circuit breaker will be used for the API. Default: true
- `slow_call_duration` (Number) The duration in milliseconds to consider a request as slow. Default: 2000


<a id="nestedatt--flow_execution"></a>
### Nested Schema for `flow_execution`

Optional:

- `match_required` (Boolean) Is the flow execution match required. Default: false
- `mode` (String) API's flow mode. Default: "DEFAULT"; must be one of ["BEST_MATCH", "DEFAULT"]


<a id="nestedatt--flows"></a>
### Nested Schema for `flows`

Optional:

- `connect` (Attributes List) Connect flow steps used for NATIVE APIs (see [below for nested schema](#nestedatt--flows--connect))
- `enabled` (Boolean) Is the flow enabled. Default: true
- `id` (String) Flow's uuid.
- `interact` (Attributes List) Interact flow steps used for NATIVE APIs (see [below for nested schema](#nestedatt--flows--interact))
- `name` (String) Flow's name.
- `publish` (Attributes List) Publish flow steps used for MESSAGE and NATIVE APIs (see [below for nested schema](#nestedatt--flows--publish))
- `request` (Attributes List) Request flow steps used for PROXY and MESSAGE APIs (see [below for nested schema](#nestedatt--flows--request))
- `response` (Attributes List) Response flow steps used for PROXY and MESSAGE APIs (see [below for nested schema](#nestedatt--flows--response))
- `selectors` (Attributes List) (see [below for nested schema](#nestedatt--flows--selectors))
- `subscribe` (Attributes List) Subscribe flow steps used for MESSAGE and NATIVE APIs (see [below for nested schema](#nestedatt--flows--subscribe))
- `tags` (List of String) Flow's tags.

<a id="nestedatt--flows--connect"></a>
### Nested Schema for `flows.connect`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--interact"></a>
### Nested Schema for `flows.interact`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--publish"></a>
### Nested Schema for `flows.publish`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--request"></a>
### Nested Schema for `flows.request`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--response"></a>
### Nested Schema for `flows.response`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--selectors"></a>
### Nested Schema for `flows.selectors`

Optional:

- `channel` (Attributes) Channel selector (see [below for nested schema](#nestedatt--flows--selectors--channel))
- `condition` (Attributes) Condition selector (see [below for nested schema](#nestedatt--flows--selectors--condition))
- `http` (Attributes) HTTP selector (see [below for nested schema](#nestedatt--flows--selectors--http))

<a id="nestedatt--flows--selectors--channel"></a>
### Nested Schema for `flows.selectors.channel`

Optional:

- `channel` (String) The channel of the selector. Default: "/"
- `channel_operator` (String) The path operator of the selector. Default: "STARTS_WITH"; must be one of ["EQUALS", "STARTS_WITH"]
- `entrypoints` (List of String)
- `operations` (List of String) The list of operations associated with this channel selector.
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]


<a id="nestedatt--flows--selectors--condition"></a>
### Nested Schema for `flows.selectors.condition`

Optional:

- `condition` (String) The condition of the selector. Not Null
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]


<a id="nestedatt--flows--selectors--http"></a>
### Nested Schema for `flows.selectors.http`

Optional:

- `methods` (List of String)
- `path` (String) The path of the selector. Default: "/"
- `path_operator` (String) The path operator of the selector. Default: "STARTS_WITH"; must be one of ["EQUALS", "STARTS_WITH"]
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]



<a id="nestedatt--flows--subscribe"></a>
### Nested Schema for `flows.subscribe`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step



<a id="nestedatt--members"></a>
### Nested Schema for `members`

Optional:

- `role` (String) The role of the user in regards of the managed oject (API, Application, etc.). Not Null
- `source` (String) Where the memeber was created (system, idp, etc.). Not Null
- `source_id` (String) Id of the user in the source. Not Null

Read-Only:

- `id` (String) User UUID of the memeber


<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Optional:

- `default_value` (String) The default value of the metadata if the value is not set.
- `format` (String) The format of the metadata. Not Null; must be one of ["STRING", "NUMERIC", "BOOLEAN", "DATE", "MAIL", "URL"]
- `key` (String) The key of the metadata if different from sanitized name (lowercase + hyphens).
- `name` (String) The name of the metadata. Not Null
- `value` (String) The value of the metadata.


<a id="nestedatt--pages"></a>
### Nested Schema for `pages`

Optional:

- `access_controls` (Attributes List) List of access controls. (see [below for nested schema](#nestedatt--pages--access_controls))
- `attached_media` (Attributes List) List of attached media. (see [below for nested schema](#nestedatt--pages--attached_media))
- `configuration` (Map of String) Page's configuration.
- `content` (String) Page's content.
- `content_revision` (Attributes) Page revision (see [below for nested schema](#nestedatt--pages--content_revision))
- `content_type` (String) Page's content type.
- `excluded_access_controls` (Boolean) Flag to restrict access to user matching the restrictions.
- `general_conditions` (Boolean) If page is used as General Conditions of an active plan.
- `hidden` (Boolean) If folder is published but not shown in Portal.
- `homepage` (Boolean) Page's homepage status.
- `hrid` (String) A unique human readable id identifying this resource. Not Null
- `last_contributor` (String) Page's last contributor. Id of a user.
- `metadata` (Map of String) Page's metadata.
- `name` (String) Page's name.
- `order` (Number) Page's order.
- `parent_id` (String) Page's parent id.
- `parent_path` (String) Page's parent path.
- `published` (Boolean) Page's published status.
- `source` (Attributes) Page source (see [below for nested schema](#nestedatt--pages--source))
- `translations` (Attributes List) List of page translations. (see [below for nested schema](#nestedatt--pages--translations))
- `type` (String) The type of the page. Not Null; must be one of ["ASCIIDOC", "ASYNCAPI", "MARKDOWN", "MARKDOWN_TEMPLATE", "SWAGGER", "FOLDER", "LINK", "ROOT", "SYSTEM_FOLDER", "TRANSLATION"]
- `updated_at` (String) Page's last update date.
- `visibility` (String) The visibility of the resource regarding the portal. Default: "PUBLIC"; must be one of ["PUBLIC", "PRIVATE"]

Read-Only:

- `cross_id` (String) Page's cross uuid.

<a id="nestedatt--pages--access_controls"></a>
### Nested Schema for `pages.access_controls`

Optional:

- `reference_id` (String) The id of the resource used to check the access control
- `reference_type` (String) The type of the resource used to check the access control


<a id="nestedatt--pages--attached_media"></a>
### Nested Schema for `pages.attached_media`

Optional:

- `attached_at` (String) Media's attachment date.
- `hash` (String) Media's hash.
- `name` (String) Media's name.


<a id="nestedatt--pages--content_revision"></a>
### Nested Schema for `pages.content_revision`

Optional:

- `id` (String) Id of the page used to fill the content attributes.
- `revision` (Number) Revision number.


<a id="nestedatt--pages--source"></a>
### Nested Schema for `pages.source`

Optional:

- `configuration` (String) Page source's configuration. Parsed as JSON.
- `type` (String) The type of the page source (=fetcher type).


<a id="nestedatt--pages--translations"></a>
### Nested Schema for `pages.translations`

Optional:

- `access_controls` (Attributes List) List of access controls. (see [below for nested schema](#nestedatt--pages--translations--access_controls))
- `attached_media` (Attributes List) List of attached media. (see [below for nested schema](#nestedatt--pages--translations--attached_media))
- `configuration` (Map of String) Page's configuration.
- `content` (String) Page's content.
- `content_revision` (Attributes) Page revision (see [below for nested schema](#nestedatt--pages--translations--content_revision))
- `content_type` (String) Page's content type.
- `excluded_access_controls` (Boolean) Flag to restrict access to user matching the restrictions.
- `general_conditions` (Boolean) If page is used as General Conditions of an active plan.
- `hidden` (Boolean) If folder is published but not shown in Portal.
- `homepage` (Boolean) Page's homepage status.
- `hrid` (String) A unique human readable id identifying this resource. Not Null
- `last_contributor` (String) Page's last contributor. Id of a user.
- `metadata` (Map of String) Page's metadata.
- `name` (String) Page's name.
- `order` (Number) Page's order.
- `parent_id` (String) Page's parent id.
- `parent_path` (String) Page's parent path.
- `published` (Boolean) Page's published status.
- `source` (Attributes) Page source (see [below for nested schema](#nestedatt--pages--translations--source))
- `type` (String) The type of the page. Not Null; must be one of ["ASCIIDOC", "ASYNCAPI", "MARKDOWN", "MARKDOWN_TEMPLATE", "SWAGGER", "FOLDER", "LINK", "ROOT", "SYSTEM_FOLDER", "TRANSLATION"]
- `updated_at` (String) Page's last update date.
- `visibility` (String) The visibility of the resource regarding the portal. Default: "PUBLIC"; must be one of ["PUBLIC", "PRIVATE"]

Read-Only:

- `cross_id` (String) Page's cross uuid.

<a id="nestedatt--pages--translations--access_controls"></a>
### Nested Schema for `pages.translations.access_controls`

Optional:

- `reference_id` (String) The id of the resource used to check the access control
- `reference_type` (String) The type of the resource used to check the access control


<a id="nestedatt--pages--translations--attached_media"></a>
### Nested Schema for `pages.translations.attached_media`

Optional:

- `attached_at` (String) Media's attachment date.
- `hash` (String) Media's hash.
- `name` (String) Media's name.


<a id="nestedatt--pages--translations--content_revision"></a>
### Nested Schema for `pages.translations.content_revision`

Optional:

- `id` (String) Id of the page used to fill the content attributes.
- `revision` (Number) Revision number.


<a id="nestedatt--pages--translations--source"></a>
### Nested Schema for `pages.translations.source`

Optional:

- `configuration` (String) Page source's configuration. Parsed as JSON.
- `type` (String) The type of the page source (=fetcher type).




<a id="nestedatt--plans"></a>
### Nested Schema for `plans`

Optional:

- `characteristics` (List of String)
- `description` (String)
- `excluded_groups` (List of String)
- `flows` (Attributes List) (see [below for nested schema](#nestedatt--plans--flows))
- `general_conditions` (String)
- `hrid` (String) A unique human readable id identifying this resource. Not Null
- `mode` (String) The behavioural mode of the Plan (Standard for classical plan, Push for subscription plan). Not Null; must be one of ["STANDARD", "PUSH"]
- `name` (String) Not Null
- `security` (Attributes) API plan security. Not Null (see [below for nested schema](#nestedatt--plans--security))
- `selection_rule` (String)
- `status` (String) Plan status. Not Null; must be one of ["STAGING", "PUBLISHED", "DEPRECATED", "CLOSED"]
- `tags` (List of String)
- `type` (String) Plan type. Not Null; must be one of ["API", "CATALOG"]
- `validation` (String) Plan validation type. Not Null; must be one of ["AUTO", "MANUAL"]

<a id="nestedatt--plans--flows"></a>
### Nested Schema for `plans.flows`

Optional:

- `connect` (Attributes List) Connect flow steps used for NATIVE APIs (see [below for nested schema](#nestedatt--plans--flows--connect))
- `enabled` (Boolean) Is the flow enabled. Default: true
- `id` (String) Flow's uuid.
- `interact` (Attributes List) Interact flow steps used for NATIVE APIs (see [below for nested schema](#nestedatt--plans--flows--interact))
- `name` (String) Flow's name.
- `publish` (Attributes List) Publish flow steps used for MESSAGE and NATIVE APIs (see [below for nested schema](#nestedatt--plans--flows--publish))
- `request` (Attributes List) Request flow steps used for PROXY and MESSAGE APIs (see [below for nested schema](#nestedatt--plans--flows--request))
- `response` (Attributes List) Response flow steps used for PROXY and MESSAGE APIs (see [below for nested schema](#nestedatt--plans--flows--response))
- `selectors` (Attributes List) (see [below for nested schema](#nestedatt--plans--flows--selectors))
- `subscribe` (Attributes List) Subscribe flow steps used for MESSAGE and NATIVE APIs (see [below for nested schema](#nestedatt--plans--flows--subscribe))
- `tags` (List of String) Flow's tags.

<a id="nestedatt--plans--flows--connect"></a>
### Nested Schema for `plans.flows.connect`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--interact"></a>
### Nested Schema for `plans.flows.interact`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--publish"></a>
### Nested Schema for `plans.flows.publish`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--request"></a>
### Nested Schema for `plans.flows.request`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--response"></a>
### Nested Schema for `plans.flows.response`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--selectors"></a>
### Nested Schema for `plans.flows.selectors`

Optional:

- `channel` (Attributes) Channel selector (see [below for nested schema](#nestedatt--plans--flows--selectors--channel))
- `condition` (Attributes) Condition selector (see [below for nested schema](#nestedatt--plans--flows--selectors--condition))
- `http` (Attributes) HTTP selector (see [below for nested schema](#nestedatt--plans--flows--selectors--http))

<a id="nestedatt--plans--flows--selectors--channel"></a>
### Nested Schema for `plans.flows.selectors.channel`

Optional:

- `channel` (String) The channel of the selector. Default: "/"
- `channel_operator` (String) The path operator of the selector. Default: "STARTS_WITH"; must be one of ["EQUALS", "STARTS_WITH"]
- `entrypoints` (List of String)
- `operations` (List of String) The list of operations associated with this channel selector.
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]


<a id="nestedatt--plans--flows--selectors--condition"></a>
### Nested Schema for `plans.flows.selectors.condition`

Optional:

- `condition` (String) The condition of the selector. Not Null
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]


<a id="nestedatt--plans--flows--selectors--http"></a>
### Nested Schema for `plans.flows.selectors.http`

Optional:

- `methods` (List of String)
- `path` (String) The path of the selector. Default: "/"
- `path_operator` (String) The path operator of the selector. Default: "STARTS_WITH"; must be one of ["EQUALS", "STARTS_WITH"]
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]



<a id="nestedatt--plans--flows--subscribe"></a>
### Nested Schema for `plans.flows.subscribe`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step



<a id="nestedatt--plans--security"></a>
### Nested Schema for `plans.security`

Optional:

- `configuration` (String) Parsed as JSON.
- `type` (String) Plan security type. Not Null; must be one of ["KEY_LESS", "API_KEY", "OAUTH2", "JWT", "MTLS"]



<a id="nestedatt--primary_owner"></a>
### Nested Schema for `primary_owner`

Optional:

- `display_name` (String) Owner's name.
- `email` (String) Owner's email. Can be null if owner is a group.
- `id` (String) Owner's uuid.
- `type` (String) The type of membership. must be one of ["USER", "GROUP"]


<a id="nestedatt--properties"></a>
### Nested Schema for `properties`

Optional:

- `dynamic` (Boolean) is a dynamic property or not?
- `encryptable` (Boolean) is property encryptable?
- `encrypted` (Boolean) is property encrypted or not?
- `key` (String) property key. Not Null
- `value` (String) property value. Not Null


<a id="nestedatt--resources"></a>
### Nested Schema for `resources`

Optional:

- `configuration` (String) Resource configuration. Not Null; Parsed as JSON.
- `enabled` (Boolean) API resource is enabled or not?
- `name` (String) Resource name. Not Null
- `type` (String) Resource type. Not Null


<a id="nestedatt--services"></a>
### Nested Schema for `services`

Optional:

- `dynamic_property` (Attributes) Service (see [below for nested schema](#nestedatt--services--dynamic_property))

<a id="nestedatt--services--dynamic_property"></a>
### Nested Schema for `services.dynamic_property`

Optional:

- `configuration` (String) The configuration of the service. Parsed as JSON.
- `enabled` (Boolean) Is the service enabled or not. Default: true
- `override_configuration` (Boolean) Override the configuration of the service. Default: false
- `type` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = apim_apiv4.my_apim_apiv4
  id = jsonencode({
    environment_id = "..."
    hrid = "..."
    organization_id = "..."
  })
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import apim_apiv4.my_apim_apiv4 '{"environment_id": "...", "hrid": "...", "organization_id": "..."}'
```
