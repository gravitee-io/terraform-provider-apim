---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "apim_apiv4 Resource - terraform-provider-apim"
subcategory: ""
description: |-
  Apiv4 Resource
---

# apim_apiv4 (Resource)

Apiv4 Resource

## Example Usage

```terraform
resource "apim_apiv4" "my_apiv4" {
  analytics = {
    enabled = false
    logging = {
      condition = "...my_condition..."
      content = {
        headers          = false
        message_headers  = true
        message_metadata = false
        message_payload  = true
        payload          = true
      }
      message_condition = "...my_message_condition..."
      mode = {
        endpoint   = false
        entrypoint = true
      }
      phase = {
        request  = true
        response = false
      }
    }
    sampling = {
      type  = "TEMPORAL"
      value = "...my_value..."
    }
    tracing = {
      enabled = true
      verbose = true
    }
  }
  categories = [
    "..."
  ]
  definition_context = {
    # ...
  }
  description = "I can use many characters to describe this API."
  endpoint_groups = [
    {
      endpoints = [
        {
          configuration         = "{ \"see\": \"documentation\" }"
          inherit_configuration = false
          name                  = "default-endpoint"
          secondary             = false
          services = {
            health_check = {
              configuration          = "{ \"see\": \"documentation\" }"
              enabled                = false
              override_configuration = true
              type                   = "...my_type..."
            }
          }
          shared_configuration_override = "{ \"see\": \"documentation\" }"
          tenants = [
            "..."
          ]
          type   = "mock"
          weight = 9
        }
      ]
      load_balancer = {
        type = "ROUND_ROBIN"
      }
      name = "default-endpoint-group"
      services = {
        discovery = {
          configuration          = "{ \"see\": \"documentation\" }"
          enabled                = true
          override_configuration = true
          type                   = "...my_type..."
        }
        health_check = {
          configuration          = "{ \"see\": \"documentation\" }"
          enabled                = true
          override_configuration = true
          type                   = "...my_type..."
        }
      }
      shared_configuration = "{ \"see\": \"documentation\" }"
      type                 = "default"
    }
  ]
  environment_id = "...my_environment_id..."
  failover = {
    enabled             = true
    max_failures        = 6
    max_retries         = 8
    open_state_duration = 510
    per_subscription    = true
    slow_call_duration  = 54
  }
  flow_execution = {
    match_required = true
    mode           = "BEST_MATCH"
  }
  flows = [
    {
      connect = [
        {
          condition         = "...my_condition..."
          configuration     = "{ \"see\": \"documentation\" }"
          description       = "...my_description..."
          enabled           = false
          message_condition = "...my_message_condition..."
          name              = "...my_name..."
          policy            = "...my_policy..."
        }
      ]
      enabled = true
      interact = [
        {
          condition         = "...my_condition..."
          configuration     = "{ \"see\": \"documentation\" }"
          description       = "...my_description..."
          enabled           = true
          message_condition = "...my_message_condition..."
          name              = "...my_name..."
          policy            = "...my_policy..."
        }
      ]
      name = "My Flow"
      publish = [
        {
          condition         = "...my_condition..."
          configuration     = "{ \"see\": \"documentation\" }"
          description       = "...my_description..."
          enabled           = false
          message_condition = "...my_message_condition..."
          name              = "...my_name..."
          policy            = "...my_policy..."
        }
      ]
      request = [
        {
          condition         = "...my_condition..."
          configuration     = "{ \"see\": \"documentation\" }"
          description       = "...my_description..."
          enabled           = true
          message_condition = "...my_message_condition..."
          name              = "...my_name..."
          policy            = "...my_policy..."
        }
      ]
      response = [
        {
          condition         = "...my_condition..."
          configuration     = "{ \"see\": \"documentation\" }"
          description       = "...my_description..."
          enabled           = true
          message_condition = "...my_message_condition..."
          name              = "...my_name..."
          policy            = "...my_policy..."
        }
      ]
      selectors = [
        {
          channel = {
            channel          = "/my/channel"
            channel_operator = "EQUALS"
            entrypoints = [
              "..."
            ]
            operations = [
              "SUBSCRIBE"
            ]
            type = "HTTP"
          }
        }
      ]
      subscribe = [
        {
          condition         = "...my_condition..."
          configuration     = "{ \"see\": \"documentation\" }"
          description       = "...my_description..."
          enabled           = true
          message_condition = "...my_message_condition..."
          name              = "...my_name..."
          policy            = "...my_policy..."
        }
      ]
      tags = [
        "..."
      ]
    }
  ]
  groups = [
    "..."
  ]
  hrid = "...my_hrid..."
  labels = [
    "..."
  ]
  lifecycle_state = "CREATED"
  listeners = [
    {
      http = {
        cors = {
          allow_credentials = false
          allow_headers = [
            "..."
          ]
          allow_methods = [
            "..."
          ]
          allow_origin = [
            "..."
          ]
          enabled = false
          expose_headers = [
            "..."
          ]
          max_age      = 3
          run_policies = false
        }
        entrypoints = [
          {
            configuration = "{ \"see\": \"documentation\" }"
            dlq = {
              endpoint = "...my_endpoint..."
            }
            qos  = "NONE"
            type = "http-get"
          }
        ]
        path_mappings = [
          "..."
        ]
        paths = [
          {
            host            = "...my_host..."
            override_access = false
            path            = "...my_path..."
          }
        ]
        servers = [
          "..."
        ]
        type = "HTTP"
      }
    }
  ]
  members = [
    {
      id        = "...my_id..."
      role      = "...my_role..."
      source    = "...my_source..."
      source_id = "...my_source_id..."
    }
  ]
  metadata = [
    {
      default_value = "...my_default_value..."
      format        = "DATE"
      key           = "...my_key..."
      name          = "...my_name..."
      value         = "...my_value..."
    }
  ]
  name            = "My Api"
  notify_members  = false
  organization_id = "...my_organization_id..."
  plans = {
    key = {
      characteristics = [
        "..."
      ]
      description = "...my_description..."
      excluded_groups = [
        "..."
      ]
      flows = [
        {
          connect = [
            {
              condition         = "...my_condition..."
              configuration     = "{ \"see\": \"documentation\" }"
              description       = "...my_description..."
              enabled           = false
              message_condition = "...my_message_condition..."
              name              = "...my_name..."
              policy            = "...my_policy..."
            }
          ]
          enabled = false
          interact = [
            {
              condition         = "...my_condition..."
              configuration     = "{ \"see\": \"documentation\" }"
              description       = "...my_description..."
              enabled           = true
              message_condition = "...my_message_condition..."
              name              = "...my_name..."
              policy            = "...my_policy..."
            }
          ]
          name = "My Flow"
          publish = [
            {
              condition         = "...my_condition..."
              configuration     = "{ \"see\": \"documentation\" }"
              description       = "...my_description..."
              enabled           = false
              message_condition = "...my_message_condition..."
              name              = "...my_name..."
              policy            = "...my_policy..."
            }
          ]
          request = [
            {
              condition         = "...my_condition..."
              configuration     = "{ \"see\": \"documentation\" }"
              description       = "...my_description..."
              enabled           = true
              message_condition = "...my_message_condition..."
              name              = "...my_name..."
              policy            = "...my_policy..."
            }
          ]
          response = [
            {
              condition         = "...my_condition..."
              configuration     = "{ \"see\": \"documentation\" }"
              description       = "...my_description..."
              enabled           = false
              message_condition = "...my_message_condition..."
              name              = "...my_name..."
              policy            = "...my_policy..."
            }
          ]
          selectors = [
            {
              http = {
                methods = [
                  "GET"
                ]
                path          = "/my/path"
                path_operator = "EQUALS"
                type          = "HTTP"
              }
            }
          ]
          subscribe = [
            {
              condition         = "...my_condition..."
              configuration     = "{ \"see\": \"documentation\" }"
              description       = "...my_description..."
              enabled           = false
              message_condition = "...my_message_condition..."
              name              = "...my_name..."
              policy            = "...my_policy..."
            }
          ]
          tags = [
            "..."
          ]
        }
      ]
      general_conditions = "...my_general_conditions..."
      mode               = "STANDARD"
      name               = "...my_name..."
      security = {
        configuration = "{ \"see\": \"documentation\" }"
        type          = "KEY_LESS"
      }
      selection_rule = "...my_selection_rule..."
      status         = "STAGING"
      tags = [
        "..."
      ]
      type       = "API"
      validation = "AUTO"
    }
  }
  primary_owner = {
    display_name = "John Doe"
    email        = "...my_email..."
    id           = "00f8c9e7-78fc-4907-b8c9-e778fc790750"
    type         = "USER"
  }
  properties = [
    {
      dynamic     = true
      encryptable = true
      encrypted   = true
      key         = "...my_key..."
      value       = "...my_value..."
    }
  ]
  resources = [
    {
      configuration = "{ \"see\": \"documentation\" }"
      enabled       = true
      name          = "...my_name..."
      type          = "...my_type..."
    }
  ]
  response_templates = {
    key = {
      # ...
    }
  }
  services = {
    dynamic_property = {
      configuration          = "{ \"see\": \"documentation\" }"
      enabled                = true
      override_configuration = false
      type                   = "...my_type..."
    }
  }
  state = "STARTED"
  tags = [
    "..."
  ]
  type       = "MESSAGE"
  version    = "1.0.0"
  visibility = "PUBLIC"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `definition_context` (Attributes, Deprecated) the context where the api definition was created. (see [below for nested schema](#nestedatt--definition_context))
- `endpoint_groups` (Attributes List) (see [below for nested schema](#nestedatt--endpoint_groups))
- `hrid` (String) A unique human readable id identifying this object
- `lifecycle_state` (String) The status of the API regarding the console. must be one of ["ARCHIVED", "CREATED", "DEPRECATED", "PUBLISHED", "UNPUBLISHED"]
- `listeners` (Attributes List) The list of listeners associated with this API. (see [below for nested schema](#nestedatt--listeners))
- `name` (String) API's name. Duplicate names can exists.
- `type` (String) API's type. must be one of ["MESSAGE", "PROXY", "NATIVE"]
- `version` (String) API's version. It's a simple string only used in the portal.

### Optional

- `analytics` (Attributes) (see [below for nested schema](#nestedatt--analytics))
- `categories` (List of String) The list of category keys associated with this API.
- `description` (String) API's description. A short description of your API.
- `environment_id` (String) Id of an environment. Default: "DEFAULT"
- `failover` (Attributes) (see [below for nested schema](#nestedatt--failover))
- `flow_execution` (Attributes) (see [below for nested schema](#nestedatt--flow_execution))
- `flows` (Attributes List) List of flows for the API (see [below for nested schema](#nestedatt--flows))
- `groups` (List of String) List of groups associated with the API.
This groups are id or name references to existing groups in APIM.
- `labels` (List of String) List of labels of the API
- `members` (Attributes List) Set of members associated with the plan (see [below for nested schema](#nestedatt--members))
- `metadata` (Attributes List) The list of API's metadata. (see [below for nested schema](#nestedatt--metadata))
- `notify_members` (Boolean) If true, new members added to the API spec will
be notified when the API is synced with APIM.
Default: true
- `organization_id` (String) Id of an organization. Default: "DEFAULT"
- `plans` (Attributes Map) Map of plan IDs to Plan objects (see [below for nested schema](#nestedatt--plans))
- `primary_owner` (Attributes) (see [below for nested schema](#nestedatt--primary_owner))
- `properties` (Attributes List) (see [below for nested schema](#nestedatt--properties))
- `resources` (Attributes List) (see [below for nested schema](#nestedatt--resources))
- `response_templates` (Map of Map of Object) A list of Response Templates for the API (Not applicable for Native API)
- `services` (Attributes) (see [below for nested schema](#nestedatt--services))
- `state` (String) The state of the API regarding the gateway(s). must be one of ["CLOSED", "INITIALIZED", "STARTED", "STOPPED", "STOPPING"]
- `tags` (List of String) The list of sharding tags associated with this API.
- `visibility` (String) The visibility of the resource regarding the portal. must be one of ["PUBLIC", "PRIVATE"]

### Read-Only

- `cross_id` (String) When promoting an API from one environment to the other, this ID identifies the API across those different environments.
- `id` (String) API's uuid.

<a id="nestedatt--definition_context"></a>
### Nested Schema for `definition_context`


<a id="nestedatt--endpoint_groups"></a>
### Nested Schema for `endpoint_groups`

Optional:

- `endpoints` (Attributes List) (see [below for nested schema](#nestedatt--endpoint_groups--endpoints))
- `load_balancer` (Attributes) (see [below for nested schema](#nestedatt--endpoint_groups--load_balancer))
- `name` (String) The name of the endpoint group
- `services` (Attributes) (see [below for nested schema](#nestedatt--endpoint_groups--services))
- `shared_configuration` (String) Parsed as JSON.
- `type` (String) The type of the endpoint group. Not Null

<a id="nestedatt--endpoint_groups--endpoints"></a>
### Nested Schema for `endpoint_groups.endpoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `inherit_configuration` (Boolean) Is the configuration of the endpoint inherited from the endpoint group it belongs to. Default: false
- `name` (String) The name of the endpoint
- `secondary` (Boolean) Is the endpoint a secondary endpoint. Default: false
- `services` (Attributes) (see [below for nested schema](#nestedatt--endpoint_groups--endpoints--services))
- `shared_configuration_override` (String) Parsed as JSON.
- `tenants` (List of String) The list of tenants associated to the endpoint.
- `type` (String) The type of the endpoint. Not Null
- `weight` (Number) The weight of the endpoint. Default: 1

<a id="nestedatt--endpoint_groups--endpoints--services"></a>
### Nested Schema for `endpoint_groups.endpoints.services`

Optional:

- `health_check` (Attributes) (see [below for nested schema](#nestedatt--endpoint_groups--endpoints--services--health_check))

<a id="nestedatt--endpoint_groups--endpoints--services--health_check"></a>
### Nested Schema for `endpoint_groups.endpoints.services.health_check`

Optional:

- `configuration` (String) The configuration of the service. Parsed as JSON.
- `enabled` (Boolean) Is the service enabled or not. Default: true
- `override_configuration` (Boolean) Override the configuration of the service. Default: false
- `type` (String)




<a id="nestedatt--endpoint_groups--load_balancer"></a>
### Nested Schema for `endpoint_groups.load_balancer`

Optional:

- `type` (String) Load balancer type. Default: "ROUND_ROBIN"; must be one of ["RANDOM", "ROUND_ROBIN", "WEIGHTED_RANDOM", "WEIGHTED_ROUND_ROBIN"]


<a id="nestedatt--endpoint_groups--services"></a>
### Nested Schema for `endpoint_groups.services`

Optional:

- `discovery` (Attributes) (see [below for nested schema](#nestedatt--endpoint_groups--services--discovery))
- `health_check` (Attributes) (see [below for nested schema](#nestedatt--endpoint_groups--services--health_check))

<a id="nestedatt--endpoint_groups--services--discovery"></a>
### Nested Schema for `endpoint_groups.services.discovery`

Optional:

- `configuration` (String) The configuration of the service. Parsed as JSON.
- `enabled` (Boolean) Is the service enabled or not. Default: true
- `override_configuration` (Boolean) Override the configuration of the service. Default: false
- `type` (String)


<a id="nestedatt--endpoint_groups--services--health_check"></a>
### Nested Schema for `endpoint_groups.services.health_check`

Optional:

- `configuration` (String) The configuration of the service. Parsed as JSON.
- `enabled` (Boolean) Is the service enabled or not. Default: true
- `override_configuration` (Boolean) Override the configuration of the service. Default: false
- `type` (String)




<a id="nestedatt--listeners"></a>
### Nested Schema for `listeners`

Optional:

- `http` (Attributes) (see [below for nested schema](#nestedatt--listeners--http))
- `kafka` (Attributes) (see [below for nested schema](#nestedatt--listeners--kafka))
- `subscription` (Attributes) (see [below for nested schema](#nestedatt--listeners--subscription))
- `tcp` (Attributes) (see [below for nested schema](#nestedatt--listeners--tcp))

<a id="nestedatt--listeners--http"></a>
### Nested Schema for `listeners.http`

Optional:

- `cors` (Attributes) (see [below for nested schema](#nestedatt--listeners--http--cors))
- `entrypoints` (Attributes List) (see [below for nested schema](#nestedatt--listeners--http--entrypoints))
- `path_mappings` (List of String)
- `paths` (Attributes List) (see [below for nested schema](#nestedatt--listeners--http--paths))
- `servers` (List of String)
- `type` (String) Listener type. Not Null; must be one of ["HTTP", "SUBSCRIPTION", "TCP", "KAFKA"]

<a id="nestedatt--listeners--http--cors"></a>
### Nested Schema for `listeners.http.cors`

Optional:

- `allow_credentials` (Boolean)
- `allow_headers` (List of String)
- `allow_methods` (List of String)
- `allow_origin` (List of String)
- `enabled` (Boolean)
- `expose_headers` (List of String)
- `max_age` (Number) Default: -1
- `run_policies` (Boolean)


<a id="nestedatt--listeners--http--entrypoints"></a>
### Nested Schema for `listeners.http.entrypoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `dlq` (Attributes) (see [below for nested schema](#nestedatt--listeners--http--entrypoints--dlq))
- `qos` (String) Type of the quality of service. Default: "AUTO"; must be one of ["NONE", "AUTO", "AT_MOST_ONCE", "AT_LEAST_ONCE"]
- `type` (String) The type of the entrypoint. Not Null

<a id="nestedatt--listeners--http--entrypoints--dlq"></a>
### Nested Schema for `listeners.http.entrypoints.dlq`

Optional:

- `endpoint` (String) The endpoint of the DLQ.



<a id="nestedatt--listeners--http--paths"></a>
### Nested Schema for `listeners.http.paths`

Optional:

- `host` (String)
- `override_access` (Boolean) Default: false
- `path` (String) Default: "/"



<a id="nestedatt--listeners--kafka"></a>
### Nested Schema for `listeners.kafka`

Optional:

- `entrypoints` (Attributes List) (see [below for nested schema](#nestedatt--listeners--kafka--entrypoints))
- `host` (String) A hostname for which the API will match against SNI. Not Null
- `port` (Number) The port of the listener
- `servers` (List of String)
- `type` (String) Listener type. Not Null; must be one of ["HTTP", "SUBSCRIPTION", "TCP", "KAFKA"]

<a id="nestedatt--listeners--kafka--entrypoints"></a>
### Nested Schema for `listeners.kafka.entrypoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `dlq` (Attributes) (see [below for nested schema](#nestedatt--listeners--kafka--entrypoints--dlq))
- `qos` (String) Type of the quality of service. Default: "AUTO"; must be one of ["NONE", "AUTO", "AT_MOST_ONCE", "AT_LEAST_ONCE"]
- `type` (String) The type of the entrypoint. Not Null

<a id="nestedatt--listeners--kafka--entrypoints--dlq"></a>
### Nested Schema for `listeners.kafka.entrypoints.dlq`

Optional:

- `endpoint` (String) The endpoint of the DLQ.




<a id="nestedatt--listeners--subscription"></a>
### Nested Schema for `listeners.subscription`

Optional:

- `entrypoints` (Attributes List) (see [below for nested schema](#nestedatt--listeners--subscription--entrypoints))
- `servers` (List of String)
- `type` (String) Listener type. Not Null; must be one of ["HTTP", "SUBSCRIPTION", "TCP", "KAFKA"]

<a id="nestedatt--listeners--subscription--entrypoints"></a>
### Nested Schema for `listeners.subscription.entrypoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `dlq` (Attributes) (see [below for nested schema](#nestedatt--listeners--subscription--entrypoints--dlq))
- `qos` (String) Type of the quality of service. Default: "AUTO"; must be one of ["NONE", "AUTO", "AT_MOST_ONCE", "AT_LEAST_ONCE"]
- `type` (String) The type of the entrypoint. Not Null

<a id="nestedatt--listeners--subscription--entrypoints--dlq"></a>
### Nested Schema for `listeners.subscription.entrypoints.dlq`

Optional:

- `endpoint` (String) The endpoint of the DLQ.




<a id="nestedatt--listeners--tcp"></a>
### Nested Schema for `listeners.tcp`

Optional:

- `entrypoints` (Attributes List) (see [below for nested schema](#nestedatt--listeners--tcp--entrypoints))
- `hosts` (List of String) A list of hostnames for which the API will match against SNI.  This must be unique for all TCP listener for a given server id. See 'servers' attribute. Not Null
- `servers` (List of String)
- `type` (String) Listener type. Not Null; must be one of ["HTTP", "SUBSCRIPTION", "TCP", "KAFKA"]

<a id="nestedatt--listeners--tcp--entrypoints"></a>
### Nested Schema for `listeners.tcp.entrypoints`

Optional:

- `configuration` (String) Parsed as JSON.
- `dlq` (Attributes) (see [below for nested schema](#nestedatt--listeners--tcp--entrypoints--dlq))
- `qos` (String) Type of the quality of service. Default: "AUTO"; must be one of ["NONE", "AUTO", "AT_MOST_ONCE", "AT_LEAST_ONCE"]
- `type` (String) The type of the entrypoint. Not Null

<a id="nestedatt--listeners--tcp--entrypoints--dlq"></a>
### Nested Schema for `listeners.tcp.entrypoints.dlq`

Optional:

- `endpoint` (String) The endpoint of the DLQ.





<a id="nestedatt--analytics"></a>
### Nested Schema for `analytics`

Optional:

- `enabled` (Boolean) Whether or not analytics is enabled. Default: true
- `logging` (Attributes) (see [below for nested schema](#nestedatt--analytics--logging))
- `sampling` (Attributes) (see [below for nested schema](#nestedatt--analytics--sampling))
- `tracing` (Attributes) (see [below for nested schema](#nestedatt--analytics--tracing))

<a id="nestedatt--analytics--logging"></a>
### Nested Schema for `analytics.logging`

Optional:

- `condition` (String)
- `content` (Attributes) (see [below for nested schema](#nestedatt--analytics--logging--content))
- `message_condition` (String)
- `mode` (Attributes) (see [below for nested schema](#nestedatt--analytics--logging--mode))
- `phase` (Attributes) (see [below for nested schema](#nestedatt--analytics--logging--phase))

<a id="nestedatt--analytics--logging--content"></a>
### Nested Schema for `analytics.logging.content`

Optional:

- `headers` (Boolean)
- `message_headers` (Boolean)
- `message_metadata` (Boolean)
- `message_payload` (Boolean)
- `payload` (Boolean)


<a id="nestedatt--analytics--logging--mode"></a>
### Nested Schema for `analytics.logging.mode`

Optional:

- `endpoint` (Boolean)
- `entrypoint` (Boolean)


<a id="nestedatt--analytics--logging--phase"></a>
### Nested Schema for `analytics.logging.phase`

Optional:

- `request` (Boolean)
- `response` (Boolean)



<a id="nestedatt--analytics--sampling"></a>
### Nested Schema for `analytics.sampling`

Optional:

- `type` (String) The type of the sampling. Not Null; must be one of ["PROBABILITY", "TEMPORAL", "COUNT"]
- `value` (String) The value of the sampling


<a id="nestedatt--analytics--tracing"></a>
### Nested Schema for `analytics.tracing`

Optional:

- `enabled` (Boolean) Enable OpenTelemetry tracing
- `verbose` (Boolean) Enable technical tracing to get more details on request execution. Be careful this settings would generate more noise and would impact performance.



<a id="nestedatt--failover"></a>
### Nested Schema for `failover`

Optional:

- `enabled` (Boolean) Is the failover enabled. Default: false
- `max_failures` (Number) The maximum number of failures allowed before the circuit breaker can calculate the error rate. Default: 5
- `max_retries` (Number) The maximum number of retries. Default: 2
- `open_state_duration` (Number) The duration in milliseconds to indicate how long the circuit breaker should stay open, before it switches to half open. Default: 10000
- `per_subscription` (Boolean) If true, a circuit breaker breaker will be dedicated for each subscriber, else, one and only circuit breaker will be used for the API. Default: true
- `slow_call_duration` (Number) The duration in milliseconds to consider a request as slow. Default: 2000


<a id="nestedatt--flow_execution"></a>
### Nested Schema for `flow_execution`

Optional:

- `match_required` (Boolean) Is the flow execution match required. Default: false
- `mode` (String) API's flow mode. Default: "DEFAULT"; must be one of ["BEST_MATCH", "DEFAULT"]


<a id="nestedatt--flows"></a>
### Nested Schema for `flows`

Optional:

- `connect` (Attributes List) Flow step used for NATIVE APIs (see [below for nested schema](#nestedatt--flows--connect))
- `enabled` (Boolean) Is the flow enabled. Default: true
- `interact` (Attributes List) Flow step used for NATIVE APIs (see [below for nested schema](#nestedatt--flows--interact))
- `name` (String) Flow's name.
- `publish` (Attributes List) Flow step used for MESSAGE and NATIVE APIs (see [below for nested schema](#nestedatt--flows--publish))
- `request` (Attributes List) Flow step used for PROXY and MESSAGE APIs (see [below for nested schema](#nestedatt--flows--request))
- `response` (Attributes List) Flow step used for PROXY and MESSAGE APIs (see [below for nested schema](#nestedatt--flows--response))
- `selectors` (Attributes List) (see [below for nested schema](#nestedatt--flows--selectors))
- `subscribe` (Attributes List) Flow step used for MESSAGE and NATIVE APIs (see [below for nested schema](#nestedatt--flows--subscribe))
- `tags` (List of String) Flow's tags.

Read-Only:

- `id` (String) Flow's uuid.

<a id="nestedatt--flows--connect"></a>
### Nested Schema for `flows.connect`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--interact"></a>
### Nested Schema for `flows.interact`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--publish"></a>
### Nested Schema for `flows.publish`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--request"></a>
### Nested Schema for `flows.request`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--response"></a>
### Nested Schema for `flows.response`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--flows--selectors"></a>
### Nested Schema for `flows.selectors`

Optional:

- `channel` (Attributes) (see [below for nested schema](#nestedatt--flows--selectors--channel))
- `condition` (Attributes) (see [below for nested schema](#nestedatt--flows--selectors--condition))
- `http` (Attributes) (see [below for nested schema](#nestedatt--flows--selectors--http))

<a id="nestedatt--flows--selectors--channel"></a>
### Nested Schema for `flows.selectors.channel`

Optional:

- `channel` (String) The channel of the selector. Default: "/"
- `channel_operator` (String) The path operator of the selector. Default: "STARTS_WITH"; must be one of ["EQUALS", "STARTS_WITH"]
- `entrypoints` (List of String)
- `operations` (List of String) The list of operations associated with this channel selector.
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]


<a id="nestedatt--flows--selectors--condition"></a>
### Nested Schema for `flows.selectors.condition`

Optional:

- `condition` (String) The condition of the selector. Not Null
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]


<a id="nestedatt--flows--selectors--http"></a>
### Nested Schema for `flows.selectors.http`

Optional:

- `methods` (List of String)
- `path` (String) The path of the selector. Default: "/"
- `path_operator` (String) The path operator of the selector. Default: "STARTS_WITH"; must be one of ["EQUALS", "STARTS_WITH"]
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]



<a id="nestedatt--flows--subscribe"></a>
### Nested Schema for `flows.subscribe`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step



<a id="nestedatt--members"></a>
### Nested Schema for `members`

Optional:

- `id` (String)
- `role` (String)
- `source` (String)
- `source_id` (String)


<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Optional:

- `default_value` (String) The default value of the metadata.
- `format` (String) The format of the metadata. must be one of ["STRING", "NUMERIC", "BOOLEAN", "DATE", "MAIL", "URL"]
- `key` (String) The key of the metadata.
- `name` (String) The name of the metadata.
- `value` (String) The value of the metadata.


<a id="nestedatt--plans"></a>
### Nested Schema for `plans`

Optional:

- `characteristics` (List of String)
- `description` (String)
- `excluded_groups` (List of String)
- `flows` (Attributes List) (see [below for nested schema](#nestedatt--plans--flows))
- `general_conditions` (String)
- `mode` (String) The behavioural mode of the Plan (Standard for classical plan, Push for subscription plan). Not Null; must be one of ["STANDARD", "PUSH"]
- `name` (String)
- `security` (Attributes) (see [below for nested schema](#nestedatt--plans--security))
- `selection_rule` (String)
- `status` (String) Plan status. Not Null; must be one of ["STAGING", "PUBLISHED", "DEPRECATED", "CLOSED"]
- `tags` (List of String)
- `type` (String) Plan type. Not Null; must be one of ["API", "CATALOG"]
- `validation` (String) Plan validation type. must be one of ["AUTO", "MANUAL"]

Read-Only:

- `cross_id` (String) Cross-reference ID
- `id` (String) Unique identifier for the plan

<a id="nestedatt--plans--flows"></a>
### Nested Schema for `plans.flows`

Optional:

- `connect` (Attributes List) Flow step used for NATIVE APIs (see [below for nested schema](#nestedatt--plans--flows--connect))
- `enabled` (Boolean) Is the flow enabled. Default: true
- `interact` (Attributes List) Flow step used for NATIVE APIs (see [below for nested schema](#nestedatt--plans--flows--interact))
- `name` (String) Flow's name.
- `publish` (Attributes List) Flow step used for MESSAGE and NATIVE APIs (see [below for nested schema](#nestedatt--plans--flows--publish))
- `request` (Attributes List) Flow step used for PROXY and MESSAGE APIs (see [below for nested schema](#nestedatt--plans--flows--request))
- `response` (Attributes List) Flow step used for PROXY and MESSAGE APIs (see [below for nested schema](#nestedatt--plans--flows--response))
- `selectors` (Attributes List) (see [below for nested schema](#nestedatt--plans--flows--selectors))
- `subscribe` (Attributes List) Flow step used for MESSAGE and NATIVE APIs (see [below for nested schema](#nestedatt--plans--flows--subscribe))
- `tags` (List of String) Flow's tags.

Read-Only:

- `id` (String) Flow's uuid.

<a id="nestedatt--plans--flows--connect"></a>
### Nested Schema for `plans.flows.connect`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--interact"></a>
### Nested Schema for `plans.flows.interact`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--publish"></a>
### Nested Schema for `plans.flows.publish`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--request"></a>
### Nested Schema for `plans.flows.request`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--response"></a>
### Nested Schema for `plans.flows.response`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step


<a id="nestedatt--plans--flows--selectors"></a>
### Nested Schema for `plans.flows.selectors`

Optional:

- `channel` (Attributes) (see [below for nested schema](#nestedatt--plans--flows--selectors--channel))
- `condition` (Attributes) (see [below for nested schema](#nestedatt--plans--flows--selectors--condition))
- `http` (Attributes) (see [below for nested schema](#nestedatt--plans--flows--selectors--http))

<a id="nestedatt--plans--flows--selectors--channel"></a>
### Nested Schema for `plans.flows.selectors.channel`

Optional:

- `channel` (String) The channel of the selector. Default: "/"
- `channel_operator` (String) The path operator of the selector. Default: "STARTS_WITH"; must be one of ["EQUALS", "STARTS_WITH"]
- `entrypoints` (List of String)
- `operations` (List of String) The list of operations associated with this channel selector.
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]


<a id="nestedatt--plans--flows--selectors--condition"></a>
### Nested Schema for `plans.flows.selectors.condition`

Optional:

- `condition` (String) The condition of the selector. Not Null
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]


<a id="nestedatt--plans--flows--selectors--http"></a>
### Nested Schema for `plans.flows.selectors.http`

Optional:

- `methods` (List of String)
- `path` (String) The path of the selector. Default: "/"
- `path_operator` (String) The path operator of the selector. Default: "STARTS_WITH"; must be one of ["EQUALS", "STARTS_WITH"]
- `type` (String) Selector type. Not Null; must be one of ["HTTP", "CHANNEL", "CONDITION"]



<a id="nestedatt--plans--flows--subscribe"></a>
### Nested Schema for `plans.flows.subscribe`

Optional:

- `condition` (String) The condition of the step
- `configuration` (String) The configuration of the step. Parsed as JSON.
- `description` (String) The description of the step
- `enabled` (Boolean) Is the step enabled or not. Default: true
- `message_condition` (String) The message condition of the step
- `name` (String) The name of the step
- `policy` (String) The policy of the step



<a id="nestedatt--plans--security"></a>
### Nested Schema for `plans.security`

Optional:

- `configuration` (String) Parsed as JSON.
- `type` (String) Plan security type. Not Null; must be one of ["KEY_LESS", "API_KEY", "OAUTH2", "JWT", "MTLS"]



<a id="nestedatt--primary_owner"></a>
### Nested Schema for `primary_owner`

Optional:

- `display_name` (String) Owner's name.
- `email` (String) Owner's email. Can be null if owner is a group.
- `id` (String) Owner's uuid.
- `type` (String) The type of membership. must be one of ["USER", "GROUP"]


<a id="nestedatt--properties"></a>
### Nested Schema for `properties`

Optional:

- `dynamic` (Boolean)
- `encryptable` (Boolean)
- `encrypted` (Boolean)
- `key` (String) Not Null
- `value` (String) Not Null


<a id="nestedatt--resources"></a>
### Nested Schema for `resources`

Optional:

- `configuration` (String) Not Null; Parsed as JSON.
- `enabled` (Boolean)
- `name` (String) Not Null
- `type` (String) Not Null


<a id="nestedatt--services"></a>
### Nested Schema for `services`

Optional:

- `dynamic_property` (Attributes) (see [below for nested schema](#nestedatt--services--dynamic_property))

<a id="nestedatt--services--dynamic_property"></a>
### Nested Schema for `services.dynamic_property`

Optional:

- `configuration` (String) The configuration of the service. Parsed as JSON.
- `enabled` (Boolean) Is the service enabled or not. Default: true
- `override_configuration` (Boolean) Override the configuration of the service. Default: false
- `type` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import apim_apiv4.my_apim_apiv4 '{"environment_id": "", "hrid": "", "organization_id": ""}'
```
